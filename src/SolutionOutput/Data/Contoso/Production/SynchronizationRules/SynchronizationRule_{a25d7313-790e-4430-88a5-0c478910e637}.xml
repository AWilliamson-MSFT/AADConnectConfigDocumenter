<synchronizationRule>
  <id>{a25d7313-790e-4430-88a5-0c478910e637}</id>
  <internal-id>{a25d7313-790e-4430-88a5-0c478910e637}</internal-id>
  <version>1</version>
  <name>Out to AAD - Device Join SOAInAD</name>
  <description />
  <immutable-tag>Microsoft.OuttoAADJoinSOAInAD.002</immutable-tag>
  <direction>Outbound</direction>
  <disabled>False</disabled>
  <connector>{b891884f-051e-4a83-95af-2544101c9083}</connector>
  <sourceObjectType>device</sourceObjectType>
  <targetObjectType>device</targetObjectType>
  <linkType>Provision</linkType>
  <precedence>160</precedence>
  <precedence-after>{00000000-0000-0000-0000-000000000000}</precedence-after>
  <precedence-before>{00000000-0000-0000-0000-000000000000}</precedence-before>
  <softDeleteExpiryInterval>00:00:00</softDeleteExpiryInterval>
  <EnablePasswordSync>false</EnablePasswordSync>
  <attribute-mappings>
    <mapping>
      <dest>displayName</dest>
      <src>
        <attr>displayName</attr>
      </src>
      <valueMergeType>Update</valueMergeType>
    </mapping>
    <mapping>
      <dest>dn</dest>
      <src>
        <attr>sourceAnchor</attr>
      </src>
      <expression>"CN={" &amp; ConvertToUTF8Hex([sourceAnchor]) &amp; "}"</expression>
      <valueMergeType>Update</valueMergeType>
    </mapping>
    <mapping>
      <dest>deviceId</dest>
      <src>
        <attr>deviceId</attr>
      </src>
      <valueMergeType>Update</valueMergeType>
    </mapping>
    <mapping>
      <dest>accountEnabled</dest>
      <src>
        <attr>accountEnabled</attr>
      </src>
      <valueMergeType>Update</valueMergeType>
    </mapping>
    <mapping>
      <dest>deviceOSVersion</dest>
      <src>
        <attr>deviceOSVersion</attr>
      </src>
      <valueMergeType>Update</valueMergeType>
    </mapping>
    <mapping>
      <dest>deviceOSType</dest>
      <src>
        <attr>deviceOSType</attr>
      </src>
      <valueMergeType>Update</valueMergeType>
    </mapping>
    <mapping>
      <dest>registeredOwnerReference</dest>
      <src>
        <attr>registeredOwnerReference</attr>
      </src>
      <valueMergeType>Update</valueMergeType>
    </mapping>
    <mapping>
      <dest>deviceTrustType</dest>
      <src>
        <attr>deviceTrustType</attr>
      </src>
      <valueMergeType>Update</valueMergeType>
    </mapping>
    <mapping>
      <dest>onPremiseSecurityIdentifier</dest>
      <src>
        <attr>objectSid</attr>
      </src>
      <valueMergeType>Update</valueMergeType>
    </mapping>
    <mapping>
      <dest>userCertificate</dest>
      <src>
        <attr>userCertificate</attr>
      </src>
      <valueMergeType>MergeCaseInsensitive</valueMergeType>
    </mapping>
  </attribute-mappings>
  <relationshipCriteria>
    <conditions>
      <condition>
        <csAttribute>deviceId</csAttribute>
        <ilmAttribute>deviceId</ilmAttribute>
      </condition>
    </conditions>
  </relationshipCriteria>
  <synchronizationCriteria>
    <conditions>
      <scope>
        <csAttribute>cloudCreated</csAttribute>
        <csOperator>EQUAL</csOperator>
        <csValue>false</csValue>
      </scope>
      <scope>
        <csAttribute>userCertificate</csAttribute>
        <csOperator>ISNOTNULL</csOperator>
        <csValue />
      </scope>
      <scope>
        <csAttribute>cloudFiltered</csAttribute>
        <csOperator>NOTEQUAL</csOperator>
        <csValue>true</csValue>
      </scope>
    </conditions>
  </synchronizationCriteria>
</synchronizationRule>